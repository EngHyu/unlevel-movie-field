{"ast":null,"code":"import _defineProperty from \"/root/unlevel-movie-field/movie/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/root/unlevel-movie-field/movie/src/Location.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nconst base = 'http://localhost:6006/api/';\nconst area = base + 'area';\nconst detail = base + 'detail/';\nconst theater = base + 'theater/';\n\nclass Location extends Component {\n  constructor() {\n    super();\n    this.state = {\n      list: '',\n      detail: ''\n    };\n    axios.get(area).then(res => res.data.map(ele => React.createElement(Wrapper, {\n      array: Array(ele['count']).fill(React.createElement(Area, {\n        name: ele['name'],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      })),\n      onClick: () => this.get_detail(ele['id']),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }))).then(list => this.setState(_objectSpread({}, this.state, {\n      list: list\n    }))).catch(err => {\n      console.log(err);\n    }).finally(() => {});\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, this.state.list, this.state.detail);\n  }\n\n  get_detail(id) {\n    axios.get(detail + id).then(res => res.data['basareaCdList'].map(data => axios.get(theater + data['cd']))).then(arr => axios.all(arr)).then(res => res.reduce((arr, ele) => arr.concat(ele.data['theaCdList']), [])).then(arr => React.createElement(Wrapper, {\n      array: arr.map(ele => React.createElement(Area, {\n        name: ele['cdNm'],\n        onClick: () => this.select(ele['cd']),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })).then(list => this.setState(_objectSpread({}, this.state, {\n      'detail': list\n    })));\n  }\n\n  select(id) {\n    console.log(id);\n  }\n\n}\n\nclass Area extends Component {\n  render() {\n    return React.createElement(\"a\", {\n      onClick: this.props.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, this.props.name);\n  }\n\n}\n\nclass Wrapper extends Component {\n  render() {\n    return React.createElement(\"div\", {\n      onClick: this.props.onClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.props.array);\n  }\n\n}\n\nexport default Location;","map":{"version":3,"sources":["/root/unlevel-movie-field/movie/src/Location.js"],"names":["React","Component","axios","base","area","detail","theater","Location","constructor","state","list","get","then","res","data","map","ele","Array","fill","get_detail","setState","catch","err","console","log","finally","render","id","arr","all","reduce","concat","select","Area","props","onClick","name","Wrapper","array"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,IAAI,GAAG,4BAAb;AACA,MAAMC,IAAI,GAAGD,IAAI,GAAG,MAApB;AACA,MAAME,MAAM,GAAGF,IAAI,GAAG,SAAtB;AACA,MAAMG,OAAO,GAAGH,IAAI,GAAG,UAAvB;;AAEA,MAAMI,QAAN,SAAuBN,SAAvB,CAAiC;AAM/BO,EAAAA,WAAW,GAAG;AACZ;AADY,SALdC,KAKc,GALN;AACNC,MAAAA,IAAI,EAAE,EADA;AAENL,MAAAA,MAAM,EAAE;AAFF,KAKM;AAEZH,IAAAA,KAAK,CAACS,GAAN,CAAUP,IAAV,EACCQ,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,CAASC,GAAT,CACTC,GAAG,IACH,oBAAC,OAAD;AACE,MAAA,KAAK,EAAEC,KAAK,CAACD,GAAG,CAAC,OAAD,CAAJ,CAAL,CAAoBE,IAApB,CAAyB,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAEF,GAAG,CAAC,MAAD,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAzB,CADT;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKG,UAAL,CAAgBH,GAAG,CAAC,IAAD,CAAnB,CAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFS,CADb,EASCJ,IATD,CASMF,IAAI,IAAI,KAAKU,QAAL,mBAAkB,KAAKX,KAAvB;AAA8BC,MAAAA,IAAI,EAAEA;AAApC,OATd,EAUCW,KAVD,CAUOC,GAAG,IAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAZD,EAaCG,OAbD,CAaS,MAAM,CACd,CAdD;AAeD;;AAEDC,EAAAA,MAAM,GAAG;AACP,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKjB,KAAL,CAAWC,IAAjB,EAAuB,KAAKD,KAAL,CAAWJ,MAAlC,CAAP;AACD;;AAEDc,EAAAA,UAAU,CAACQ,EAAD,EAAK;AACbzB,IAAAA,KAAK,CAACS,GAAN,CAAUN,MAAM,GAAGsB,EAAnB,EACCf,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,CAAS,eAAT,EAA0BC,GAA1B,CACXD,IAAI,IAAIZ,KAAK,CAACS,GAAN,CAAUL,OAAO,GAAGQ,IAAI,CAAC,IAAD,CAAxB,CADG,CADb,EAICF,IAJD,CAIMgB,GAAG,IAAI1B,KAAK,CAAC2B,GAAN,CAAUD,GAAV,CAJb,EAKChB,IALD,CAKMC,GAAG,IAAIA,GAAG,CAACiB,MAAJ,CACX,CAACF,GAAD,EAAMZ,GAAN,KAAcY,GAAG,CAACG,MAAJ,CAAWf,GAAG,CAACF,IAAJ,CAAS,YAAT,CAAX,CADH,EACuC,EADvC,CALb,EAQCF,IARD,CAQMgB,GAAG,IACP,oBAAC,OAAD;AACE,MAAA,KAAK,EAAEA,GAAG,CAACb,GAAJ,CACLC,GAAG,IAAE,oBAAC,IAAD;AACH,QAAA,IAAI,EAAEA,GAAG,CAAC,MAAD,CADN;AAEH,QAAA,OAAO,EAAE,MAAM,KAAKgB,MAAL,CAAYhB,GAAG,CAAC,IAAD,CAAf,CAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,EAkBCJ,IAlBD,CAkBMF,IAAI,IAAI,KAAKU,QAAL,mBAAkB,KAAKX,KAAvB;AAA8B,gBAAUC;AAAxC,OAlBd;AAmBD;;AAEDsB,EAAAA,MAAM,CAACL,EAAD,EAAK;AACTJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,EAAZ;AACD;;AArD8B;;AAwDjC,MAAMM,IAAN,SAAmBhC,SAAnB,CAA6B;AAC3ByB,EAAAA,MAAM,GAAG;AACP,WACE;AAAG,MAAA,OAAO,EAAE,KAAKQ,KAAL,CAAWC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiC,KAAKD,KAAL,CAAWE,IAA5C,CADF;AAGD;;AAL0B;;AAQ7B,MAAMC,OAAN,SAAsBpC,SAAtB,CAAgC;AAC9ByB,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,OAAO,EAAE,KAAKQ,KAAL,CAAWC,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmC,KAAKD,KAAL,CAAWI,KAA9C,CADF;AAGD;;AAL6B;;AAQhC,eAAe/B,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nconst base = 'http://localhost:6006/api/'\nconst area = base + 'area'\nconst detail = base + 'detail/'\nconst theater = base + 'theater/'\n\nclass Location extends Component {\n  state = {\n    list: '',\n    detail: ''\n  }\n\n  constructor() {\n    super()\n    axios.get(area)\n    .then(res => res.data.map(\n        ele => \n        <Wrapper\n          array={Array(ele['count']).fill(<Area name={ele['name']} />)}\n          onClick={() => this.get_detail(ele['id'])}\n        />\n      )\n    )\n    .then(list => this.setState({...this.state, list: list }))\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n    });\n  }\n\n  render() {\n    return <div>{this.state.list}{this.state.detail}</div>;\n  }\n\n  get_detail(id) {\n    axios.get(detail + id)\n    .then(res => res.data['basareaCdList'].map(\n      data => axios.get(theater + data['cd'])\n    ))\n    .then(arr => axios.all(arr))\n    .then(res => res.reduce(\n      (arr, ele) => arr.concat(ele.data['theaCdList']), [])\n    )\n    .then(arr =>\n      <Wrapper\n        array={arr.map(\n          ele=><Area\n            name={ele['cdNm']}\n            onClick={() => this.select(ele['cd'])}\n          />\n        )}\n      />\n    )\n    .then(list => this.setState({...this.state, 'detail': list }))\n  }\n\n  select(id) {\n    console.log(id)\n  }\n}\n\nclass Area extends Component {\n  render() {\n    return (\n      <a onClick={this.props.onClick}>{this.props.name}</a>\n    );\n  }\n}\n\nclass Wrapper extends Component {\n  render() {\n    return (\n      <div onClick={this.props.onClick}>{this.props.array}</div>\n    );\n  }\n}\n\nexport default Location;\n"]},"metadata":{},"sourceType":"module"}